### 1.***计算机网络为什么要分层？***

###### **计算机网络之所以要分层，主要是为了提高网络的可管理性、可扩展性和灵活性。通过将网络功能分成多个不同的层次，每一层只负责某一特定的功能**

1. **降低复杂度**：把复杂的网络功能拆开，每一层只做一件事，方便设计、实现和维护。
2. **便于扩展和替换**：某一层的技术或协议变化，不会影响其他层。
3. **方便排错和标准化**：出问题时可以按层定位，不同厂商按同一标准实现也能互通。

一句话总结：**分层让网络更清晰、更灵活、更好维护。**

### 2.***计算机网络是怎么分层的？***

#### （1）OSI 七层模型（理论模型，便于理解）

从下到上：

1. **物理层**（信号传输）
    负责比特流的传输：电压、光信号、网线、接口等
    👉 “0 和 1 怎么在线路上传”
2. **数据链路层**（设备之间的传输，差错检查）
    负责一跳内的数据传输、差错检测
    👉 以太网、MAC 地址、交换机
3. **网络层**（路由和寻址）
    负责寻址和路由选择
    👉 IP、路由器、IP 地址
4. **传输层**（可靠通信）
    负责端到端通信、可靠性和流量控制
    👉 TCP / UDP、端口号
5. **会话层**（建立和管理会话）
    建立、管理、终止会话
    👉 登录会话、断线重连（实际常被合并）
6. **表示层**（数据的格式）
    数据格式、加密、压缩
    👉 编码、加密解密
7. **应用层**（用户使用的网络应用）
    直接面向用户的网络应用
    👉 HTTP、FTP、SSH、DNS

------

#### （2）TCP/IP 四层模型（实际使用最多）

更贴近现实工程：

1. **网络接口层**： 如何连接物理网络（网络卡、网线）
    ≈ OSI 的 物理层 + 数据链路层
2. **网络层**： 如何找到目标设备（IP 地址）
    👉 IP、路由
3. **传输层**：如何确保数据准确传送（TCP/UDP）
    👉 TCP / UDP
4. **应用层**： 网络服务（HTTP, FTP, 邮件等）
    👉 HTTP、HTTPS、SSH、FTP 等

------



### （3）**五层模型的层次结构（从上到下）：**

| 层数  | 名称                              | 主要功能                                                  | 典型协议/设备                         |
| :---- | :-------------------------------- | :-------------------------------------------------------- | :------------------------------------ |
| **5** | **应用层**（Application Layer）   | 为用户提供网络服务接口，处理高层应用逻辑                  | HTTP、HTTPS、FTP、SMTP、DNS、SSH      |
| **4** | **传输层**（Transport Layer）     | 提供端到端（进程到进程）的可靠或不可靠数据传输            | TCP、UDP                              |
| **3** | **网络层**（Network Layer）       | 负责逻辑寻址、路由选择和跨网络的数据包转发                | IP（IPv4/IPv6）、ICMP、ARP*、路由器   |
| **2** | **数据链路层**（Data Link Layer） | 在同一物理网络内提供节点到节点的可靠帧传输，处理 MAC 地址 | Ethernet、Wi-Fi (802.11)、PPP、交换机 |
| **1** | **物理层**（Physical Layer）      | 在物理介质上传输原始比特流（0 和 1）                      | 双绞线、光纤、无线电波、集线器、网卡  |

#### （4）一句话总结分层思路

> **自下而上：硬件 → 传输 → 控制 → 应用**

或者更直白一点：

- 底层：数据怎么传
- 中间：传给谁、靠不靠谱
- 上层：给人用的功能

### 3.***三种计算机网络模型的关系是什么？每一层分别包含哪些协议？***

##### **一、三种模型的关系**

| 特性             | OSI 七层模型          | TCP/IP 四层模型                             | 五层模型（教学用）                         |
| :--------------- | :-------------------- | :------------------------------------------ | :----------------------------------------- |
| **提出者**       | ISO（国际标准化组织） | 美国国防部（DoD）                           | 教学界综合简化                             |
| **层数**         | 7 层                  | 4 层                                        | 5 层                                       |
| **是否实际使用** | ❌ 理论参考            | ✅ 实际互联网基础                            | ✅ 教学/工程常用                            |
| **设计目的**     | 标准化通用通信        | 支撑 ARPANET/Internet                       | 平衡理论与实践                             |
| **对应关系**     | 基准                  | 应用层 = OSI 5-7 层 网络接口层 = OSI 1-2 层 | 应用层 = OSI 5-7 层 明确区分链路层与物理层 |

##### **🔄 对应关系图（简化）：**

```
OSI 模型        五层模型         TCP/IP 模型
──────────────────────────────────────────────
应用层 (7)  ──┐
表示层 (6)  ──┼─→ 应用层    ──→ 应用层
会话层 (5)  ──┘
传输层 (4)  ─────→ 传输层    ──→ 传输层
网络层 (3)  ─────→ 网络层    ──→ 网际层（Internet Layer）
数据链路层(2) ──→ 数据链路层 ──┐
物理层 (1)  ─────→ 物理层     └─→ 网络接口层（Link Layer）
```

> 💡 **五层模型 = OSI 的简化版 + TCP/IP 的细化版**

#### **二、各层包含的主要协议（按五层模型展开，同时标注 OSI/TCP/IP 对应）**

##### **1.** ***\*应用层\******（Application Layer）**

- **OSI 对应**：第 7（应用）、6（表示）、5（会话）层
- **TCP/IP 对应**：应用层
- **功能**：提供用户直接使用的网络服务
- **常见协议**：
  - **HTTP / HTTPS**：网页浏览
  - **FTP / SFTP**：文件传输
  - **SMTP / POP3 / IMAP**：电子邮件
  - **DNS**：域名解析
  - **DHCP**：自动分配 IP 地址
  - **SNMP**：网络管理
  - **Telnet / SSH**：远程登录
  - **RTP**：实时音视频传输

> ⚠️ 注意：TLS/SSL 加密通常工作在应用层与传输层之间（可视为“子层”），用于 HTTPS 等。

------

##### **2.** ***\*传输层\******（Transport Layer）**

- **OSI 对应**：第 4 层
- **TCP/IP 对应**：传输层
- **功能**：端到端通信、流量控制、差错控制、多路复用
- **核心协议**：
  - **TCP**（Transmission Control Protocol）：面向连接、可靠、有序（如网页、邮件）
  - **UDP**（User Datagram Protocol）：无连接、低延迟、不可靠（如视频流、DNS 查询）
  - **SCTP**（较少用）：用于电信信令
  - **DCCP**（实验性）：用于实时业务

------

##### **3.** ***\*网络层\******（Network Layer）**

- **OSI 对应**：第 3 层
- **TCP/IP 对应**：网际层（Internet Layer）
- **功能**：逻辑寻址（IP 地址）、路由选择、跨网络转发
- **主要协议**：
  - **IP**（IPv4 / IPv6）：核心网络层协议，负责寻址和分组
  - **ICMP**（Internet Control Message Protocol）：用于 ping、traceroute 等诊断
  - **IGMP**（Internet Group Management Protocol）：支持组播
  - **ARP**（Address Resolution Protocol）⚠️：**严格说不属于网络层**，但为 IP 服务，用于将 IP 地址解析为 MAC 地址（依赖数据链路层）
  - **RARP / BOOTP**（已淘汰或被 DHCP 取代）

> 📌 路由器工作在网络层。

------

##### **4.** ***\*数据链路层\******（Data Link Layer）**

- **OSI 对应**：第 2 层
- **TCP/IP 对应**：网络接口层的一部分
- **功能**：同一局域网内节点间可靠帧传输、MAC 寻址、差错检测
- **子层**：
  - **LLC**（Logical Link Control）：提供统一接口给网络层（IEEE 802.2）
  - **MAC**（Media Access Control）：控制介质访问（如 CSMA/CD）
- **常见协议/技术**：
  - **Ethernet**（以太网，IEEE 802.3）
  - **Wi-Fi**（IEEE 802.11）
  - **PPP**（Point-to-Point Protocol）：用于拨号、DSL
  - **HDLC**、**Frame Relay**（广域网，已少用）
  - **VLAN**（虚拟局域网，基于 802.1Q）
- **设备**：交换机、网桥

------

##### **5.** ***\*物理层\******（Physical Layer）**

- **OSI 对应**：第 1 层
- **TCP/IP 对应**：网络接口层的一部分
- **功能**：在物理介质上传输原始比特流（0/1），定义电气、机械、时序特性
- **涉及内容**：
  - 传输介质：双绞线（Cat5e/Cat6）、光纤、同轴电缆、无线电波
  - 接口标准：RJ-45、USB、RS-232
  - 编码方式：曼彻斯特编码、NRZ
  - 物理设备：网卡（NIC）、集线器（Hub）、中继器（Repeater）

> ⚠️ 物理层不关心数据含义，只负责“传比特”。

------

#### **三、总结：如何理解三者关系？**

- **OSI 模型** 是“教科书”，概念完整但未被实际部署。
- **TCP/IP 模型** 是“现实标准”，驱动整个互联网运行。
- **五层模型** 是“最佳教学工具”，兼顾清晰性与实用性。

### 4.***计算机网络中，数据如何在各层中传播？数据在网络各层中的存在形式是怎么样的？***

在计算机网络中，数据从发送端到接收端的传输过程遵循**分层模型**（如五层模型），每一层对数据进行**封装**（发送时）或**解封装**（接收时），并赋予其特定的**存在形式**（也称为协议数据单元，PDU）。这个过程确保了不同设备之间能够高效、可靠地通信。

------

#### （1）在各层中的传播过程（以五层模型为例）**

##### **📤** ***\*发送端：自上而下封装\****

当应用程序（如浏览器）发起一个请求（例如访问 `https://example.com`），数据从**应用层开始**，逐层向下传递，每层添加自己的控制信息（头部，有时还有尾部）：

表格



| 层次              | 操作                                    | 数据单位（PDU）                        | 封装后名称          |
| :---------------- | :-------------------------------------- | :------------------------------------- | :------------------ |
| **5. 应用层**     | 生成原始用户数据（如 HTTP 请求）        | **Data**（数据）                       | —                   |
| **4. 传输层**     | 添加 TCP/UDP 头部（含端口号、序列号等） | **Segment**（TCP） **Datagram**（UDP） | 报文段 / 用户数据报 |
| **3. 网络层**     | 添加 IP 头部（含源/目的 IP 地址）       | **Packet**（数据包）                   | IP 包               |
| **2. 数据链路层** | 添加帧头和帧尾（含 MAC 地址、FCS 校验） | **Frame**（帧）                        | 以太网帧等          |
| **1. 物理层**     | 将帧转换为电信号/光信号/无线电波        | **Bits**（比特流）                     | 0 和 1 的物理信号   |

> ✅ **关键点**：每层只关心自己的头部信息，不修改上层数据内容。

------

##### **📥** ***\*接收端：自下而上解封装\****

接收方收到物理信号后，逐层向上剥离头部，还原原始数据：

1. **物理层**：接收比特流 → 重组为帧 → 交给数据链路层
2. **数据链路层**：检查帧完整性（如 CRC 校验），去除帧头尾 → 提取 IP 包 → 交给网络层
3. **网络层**：检查 IP 地址是否匹配本机，去除 IP 头 → 提取 TCP/UDP 段 → 交给传输层
4. **传输层**：根据端口号将数据交给对应应用进程（如 443 → 浏览器）
5. **应用层**：解析 HTTP 内容，显示网页

> 🔍 如果某层校验失败（如 IP 校验和错误、帧 CRC 错误），数据会被直接丢弃。

------

#### *（2）数据在网络各层中的存在形式（PDU 名称）**

| 层次           | 协议数据单元（PDU）            | 中文名称            | 典型内容                               |
| :------------- | :----------------------------- | :------------------ | :------------------------------------- |
| **应用层**     | Data                           | 数据                | HTTP 请求、邮件内容、文件等            |
| **传输层**     | Segment（TCP） Datagram（UDP） | 报文段 / 用户数据报 | 源/目的端口、序列号、确认号（TCP）     |
| **网络层**     | Packet                         | 数据包              | 源/目的 IP 地址、TTL、协议类型         |
| **数据链路层** | Frame                          | 帧                  | 源/目的 MAC 地址、类型字段、FCS 校验码 |
| **物理层**     | Bits                           | 比特流              | 0 和 1 的电信号、光脉冲或电磁波        |

> 💡 记忆口诀：**“应数传包帧比特”**（应用→数据→传输→包→帧→比特）

### 5.***uri 和 url 的区别 ？***

**URI**（Uniform Resource Identifier，统一资源标识符）和 **URL**（Uniform Resource Locator，统一资源定位符）是 Web 技术中两个密切相关但**有重要区别**的概念。简单来说：

> ✅ **URL 是 URI 的一种**；
> 🌐 **所有 URL 都是 URI，但并非所有 URI 都是 URL**。

------

#### **（1）定义对比**

| 术语    | 全称                        | 中文           | 作用                                                      |
| :------ | :-------------------------- | :------------- | :-------------------------------------------------------- |
| **URI** | Uniform Resource Identifier | 统一资源标识符 | **唯一标识**一个资源（可以是名字、地址或两者结合）        |
| **URL** | Uniform Resource Locator    | 统一资源定位符 | **不仅标识资源，还指明如何访问它**（即“位置 + 访问方式”） |

------

#### *（2）核心区别**

| 特性                   | URI                      | URL                                  |
| :--------------------- | :----------------------- | :----------------------------------- |
| **目的**               | 标识资源（“这是什么？”） | 定位并获取资源（“在哪？怎么拿？”）   |
| **是否包含访问方法**   | ❌ 不一定                 | ✅ 必须包含（如 `http://`, `ftp://`） |
| **是否可直接用于访问** | ❌ 不一定                 | ✅ 可以（浏览器可直接打开）           |
| **范围**               | 更广（包含 URL 和 URN）  | 是 URI 的子集                        |



### 六。dns 是啥工作原理，主要解析过程是啥？

#### 工作原理：

DNS 即 **域名系统**，它的工作原理类似于电话簿的作用，用来将我们常见的 **域名**（如 `www.example.com`）映射到 **IP 地址**（如 `192.168.1.1`），因为计算机间通信是通过 IP 地址进行的，而我们人类更容易记住域名。

##### DNS 不是一个中心服务器，而是一个**全球分布式数据库系统**，采用**层级结构**和**递归/迭代查询结合**的方式工作。

**递归查询与迭代查询**：

- **递归查询**：客户端向 DNS 服务器请求解析时，DNS 服务器会负责查找并返回最终结果。若它不知道答案，它会请求上级服务器直到找到答案。
- **迭代查询**：如果 DNS 服务器没有所需的结果，它会返回一个指向下一级 DNS 服务器的提示，客户端继续向下级服务器查询。

#### **DNS 解析过程（从用户发起请求到获得结果）**：

1. **用户输入域名**：
   - 用户在浏览器中输入一个网址，如 `www.example.com`。
2. **检查本地缓存**：
   - 操作系统和浏览器会先检查本地是否有这个域名对应的 IP 地址缓存。
     - 如果有，直接使用缓存的结果。
     - 如果没有，继续进行 DNS 查询。
3. **查询本地 DNS 解析器（递归查询）**：
   - 本地计算机会向 **本地 DNS 解析器**（通常由 ISP 提供）发起 DNS 请求，查询 `www.example.com` 对应的 IP 地址。
4. **本地 DNS 解析器查询根 DNS 服务器**：
   - 如果本地解析器没有缓存结果，它会向 **根 DNS 服务器** 发起请求。
   - 根 DNS 服务器是最顶层的 DNS 服务器，负责指引向下查找特定域名的服务器。根服务器不会返回具体的 IP 地址，但它会告诉你应该查询哪个 **顶级域名服务器**（TLD 服务器）。
5. **查询顶级域名服务器（TLD 服务器）**：
   - 根 DNS 服务器返回一个 **.com**（或其他后缀，如 `.org`、`.net`）的顶级域名服务器的地址。
   - 本地 DNS 解析器会向这个 TLD 服务器发送请求，询问 `www.example.com` 的 IP 地址。
6. **查询权威 DNS 服务器**：
   - TLD 服务器返回指向 **权威 DNS 服务器** 的地址。权威服务器是最终持有域名解析记录的服务器。
   - 本地 DNS 解析器向权威 DNS 服务器发起查询，权威 DNS 服务器最终返回 **`www.example.com`** 对应的 IP 地址（如 `93.184.216.34`）。
7. **返回结果到客户端**：
   - 本地 DNS 解析器将获取到的 IP 地址返回给用户的计算机。
8. **浏览器发起请求**：
   - 浏览器获取到 IP 地址后，利用这个地址向目标服务器发起 HTTP 请求，从而获取网页内容。

------

#### **DNS 解析过程总结**：

1. 用户输入域名，系统首先检查本地缓存。
2. 若缓存没有，向本地 DNS 服务器发起请求。
3. 本地 DNS 服务器逐级查询：根服务器 → 顶级域名服务器 → 权威 DNS 服务器。
4. 权威服务器返回 IP 地址，缓存并返回给客户端。
5. 浏览器使用该 IP 地址访问目标网站。

### 七。用户输入网址到显示对应页面的全过程是啥？

#### **1. 用户输入网址**

- 用户在浏览器中输入一个网址，如 `www.example.com`。

#### **2. 浏览器检查缓存**

- 浏览器首先会检查是否在 **浏览器缓存** 中存储了 `www.example.com` 的 DNS 解析结果。
  - 如果找到，直接使用该 IP 地址来访问目标网站。
  - 如果没有，继续进行 DNS 解析。

#### **3. 操作系统缓存 DNS 结果**

- 浏览器未找到缓存的 IP 地址后，会将请求传递给操作系统。
  - 操作系统会首先检查是否有该域名的 IP 地址缓存。
  - 如果找到缓存结果，返回给浏览器。
  - 如果没有，操作系统会向 **本地 DNS 解析器**（通常是 ISP 提供）发起请求。

#### **4. DNS 解析过程**

- **本地 DNS 解析器查询**：如果本地 DNS 解析器没有该域名的 IP 地址，它会开始查找。
  - 向 **根 DNS 服务器** 发起请求，根服务器返回顶级域（TLD）服务器的地址（例如：`.com`）。
  - 本地 DNS 解析器再向 **TLD 服务器** 请求该域名的权威 DNS 服务器。
  - TLD 服务器返回 **权威 DNS 服务器** 的地址。
  - 本地 DNS 解析器向权威 DNS 服务器发起请求，获取域名对应的 IP 地址。

#### **5. 浏览器建立 TCP 连接**

- **IP 地址获取**：本地 DNS 解析器获得 IP 地址后，将其返回给操作系统和浏览器。
- 浏览器根据该 IP 地址开始与目标服务器建立 **TCP 连接**（三次握手）：
  1. 浏览器向目标服务器的端口（通常是 80 或 443）发送 **SYN** 请求。
  2. 服务器回应 **SYN-ACK**，确认建立连接。
  3. 浏览器发送 **ACK**，连接成功建立。

#### **6. 发送 HTTP 请求**

- 建立 TCP 连接后，浏览器通过该连接向服务器发送 **HTTP 请求**（通常是 GET 请求）。
  - 请求头会包含：
    - 请求方法（如 GET）
    - 请求的资源路径（如 `/index.html`）
    - 浏览器信息（User-Agent）
    - 接受的内容类型（Accept）
    - 可接受的编码方式（Accept-Encoding）等

#### **7. 服务器处理请求**

- 服务器接收到 HTTP 请求后，会进行以下操作：
  - 根据请求的路径、方法和参数判断如何处理。
  - 如果是静态资源（如 HTML 文件、CSS 文件、图片），服务器会直接返回对应的内容。
  - 如果是动态内容（如 PHP、ASP.NET、Java 等），服务器会进行处理并生成 HTML 页面。

#### **8. 服务器返回 HTTP 响应**

- 服务器将处理后的内容（例如 HTML 页面）通过 **HTTP 响应** 返回给浏览器。
  - 响应头包含：
    - 响应状态码（如 200 表示成功，404 表示找不到资源，500 表示服务器错误）
    - 内容类型（如 `text/html`）
    - 内容长度（Content-Length）
  - 响应体包含实际的网页内容（HTML、CSS、JS 文件等）。

#### **9. 浏览器渲染页面**

- 浏览器接收到 HTTP 响应后，开始渲染页面：
  - 解析 HTML：浏览器从上到下解析 HTML 文档，构建 **DOM 树**（Document Object Model）。
  - 解析 CSS：浏览器解析 CSS 样式，构建 **CSSOM 树**（CSS Object Model）。
  - 渲染树：结合 DOM 树和 CSSOM 树，浏览器构建 **渲染树**，用于显示页面内容。
  - 布局与绘制：浏览器根据渲染树确定元素的位置和大小，最终绘制到屏幕上。

#### **10. 额外资源加载**

- 浏览器会根据 HTML 中的引用（如 `<link>`, `<script>`, `<img>` 等）继续请求其他资源（如 CSS 文件、JavaScript 文件、图片等）。
  - 这些资源可能会同步或异步加载，影响页面的最终渲染。

#### **11. 页面显示**

- 所有资源加载完毕后，浏览器完成页面渲染，用户可以看到完整的网页。

#### **12. 浏览器缓存和会话管理**

- 为了提高性能，浏览器会将一些资源（如 HTML 文件、图片、CSS、JS 等）缓存到本地，下次访问时可以直接加载。
- 浏览器还会管理会话，使用 **Cookies** 或 **Session** 来存储用户的登录信息和其他状态。

------

#### **总结流程**：

1. 用户输入网址 → 2. DNS 解析（查找 IP 地址） → 3. 建立 TCP 连接 → 4. 发送 HTTP 请求 → 5. 服务器处理请求并返回响应 → 6. 浏览器渲染页面 → 7. 加载其他资源 → 8. 页面显示

这个流程每次用户访问网页时都会重复进行，不同的是每次的 DNS 查询、TCP 连接等操作可能被缓存，从而加快加载速度。

### 八。http 头部包含哪些信息？

### 九。http 方法了解哪些？

### 十。http 状态码了解哪些？